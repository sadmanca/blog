<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UofT PEY Co-op Jobs (2023-2024 Fall/Winter)</title>
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simplebar@latest/dist/simplebar.css">
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
   <script src="https://cdn.jsdelivr.net/npm/simplebar@latest/dist/simplebar.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise/dist/ag-grid-enterprise.min.js"></script>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">

  <!-- Preconnect to the font file origin -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

  <!-- Preload the Inter Tight font CSS -->
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" />

  <!-- Asynchronously load the Inter Tight font CSS -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" media="print" onload="this.media='all'" />

  <!-- Fallback: Load the Inter Tight font CSS synchronously if JavaScript is disabled -->
  <noscript>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" />
  </noscript>

  <!-- Preload the Inter font CSS (if you need both variants of the Inter font) -->
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" />

  <!-- Asynchronously load the Inter font CSS -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" media="print" onload="this.media='all'" />

  <!-- Fallback: Load the Inter font CSS synchronously if JavaScript is disabled -->
  <noscript>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" />
  </noscript>

  <style>
    .ag-header-cell-label {
      white-space: normal; /* Allow text to wrap */
      overflow: hidden; /* Hide overflow text */
      text-overflow: ellipsis; /* Add ellipsis for overflow text */
      max-height: 3em; /* Limit header height to approximately 2 lines */
    }
  </style>

   <style>
    .cell-wrap-text {
      white-space: normal !important;
    }

    .ag-theme-quartz .ag-cell-value {
      line-height: 15px !important;
      word-break: break-word;
      padding-top: 5px;
      padding-bottom: 5px;
    }

    .ag-theme-quartz-dark .ag-cell-value {
      line-height: 15px !important;
      word-break: break-word;
      padding-top: 5px;
      padding-bottom: 5px;
    }

    .cell-ellipsis {
      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 3;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: normal;
    }

    .scrollable-cell {
      height: 100%;
      overflow-y: auto; /* Enables vertical scrolling */
    }

    .scrollable-cell::-webkit-scrollbar {
      display: block;
    }

    .simplebar-scrollbar::before {
      background-color: rgba(0, 0, 0, 0.1);
    }

    .scrollable-cell:hover .simplebar-scrollbar::before {
      background-color: rgba(0, 0, 0, 0.75);
    }

    /* Flexbox layout for body */
    body {
      display: flex;
      flex-direction: column; /* Stack elements vertically */
      height: 100vh; /* Full viewport height */
      margin: 0; /* Remove default margin */
      font-family: 'Inter Tight', sans-serif;
    }

    /* Container for buttons */
    .button-container {
      flex-shrink: 0; /* Prevent shrinking */
      margin: 10px 0;
      overflow-x: auto; /* Enable horizontal scrolling for buttons */
    }

    /* Adjusted grid container */
    #myGrid {
      flex-grow: 1; /* Allow the grid to take up remaining space */
      width: 100%; /* Full width */
      /* Removed fixed height to allow flexbox to control the size */
    }

    .ag-theme-quartz {
      /* --ag-grid-size: 3px;  */
      /* --ag-header-height: 80px; */
    }

    .blog-btn {
      background-color: #dfd2fd; /* Light purple background */
      /* border: 3px solid black;  */
      color: black; /* Text color */
      font-weight: bold;
    }
    .blog-btn:hover {
      background-color: #cdbafd; /* Slightly darker on hover */
    }

    .pey-btn {
      background-color: #4663aa; /* Light purple background */
      /* border: 3px solid black;  */
      color: white; /* Text color */
      font-weight: bold;
    }
    .pey-btn:hover {
      color: white; /* Text color */
      background-color: #3c5491; /* Slightly darker on hover */
    }

    .btn-sm {
      padding: 0.25rem 0.5rem;
      font-size: 0.75rem;
      line-height: 1.5;
      border-radius: 0.2rem;
    }

    .right-buttons {
      margin-right: 4px;
    }

    .btn-sm {
      margin-top: 2px; /* Adjust the value as needed */
      margin-bottom: 2px; /* Adjust the value as needed */
    }

    .ag-tooltip{
      max-width: 300px;
    }

  </style>
  <style>
    .company-cell, .linkedin-cell {
        display: flex;
        flex-direction: column;
        align-items: left;
    }
    .company-cell img {
        background-color: white;
        margin-top: 15px;
        width: 20vw; /* 10% of the viewport width */
        height: auto; /* Maintain aspect ratio */
        max-width:  80px; /* Maximum width */
        max-height: 80px; /* Maximum height */
    }
    .linkedin-cell img {
        margin-top: 5px;
        width: 6vw; /* 10% of the viewport width */
        height: auto; /* Maintain aspect ratio */
        max-width:  25px; /* Maximum width */
        max-height: 25px; /* Maximum height */
    }
  </style>
  <noscript>
    <style>
      /**
      * Reinstate scrolling for non-JS clients
      */
      .simplebar-content-wrapper {
        scrollbar-width: auto;
        -ms-overflow-style: auto;
      }

      .simplebar-content-wrapper::-webkit-scrollbar,
      .simplebar-hide-scrollbar::-webkit-scrollbar {
        display: initial;
        width: initial;
        height: initial;
      }
    </style>
  </noscript>
  <link rel="icon" href="assets/img/favicons/favicon.ico" type="image/x-icon">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q095PB1G6R"></script>
  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-Q095PB1G6R');
  </script>
 </head>
  <body>
    <div id="buttonContainer" style="padding: 4px" class="d-flex justify-content-between align-items-center flex-wrap">
      <div class="d-flex justify-content-between align-items-center flex-wrap" style="padding: 4px;">
        <h5 id='workStudyTitle' class="mb-0"><b>UofT PEY Co-op Jobs</b> (2023-2024 Fall/Winter)</h5>
        <div class="d-flex justify-content-end">
          <span style="margin: 0 5px;"> </span>
          <button class="btn blog-btn btn-sm right-buttons" onclick="window.open('/', '_blank')">
            <i class="fa-solid fa-circle" style="color: #6e46e7;"></i> Sadman's Blog
          </button>
          <button id="dataButton" class="btn btn-dark btn-sm right-buttons" onclick="window.open('posts/analyzing-pey-postings-part-1/', '_blank')">
            <i class="fa-solid fa-circle-question"></i> <i>How was this data sourced?</i>
          </button>
          <button id="githubButton" class="btn btn-dark btn-sm right-buttons" onclick="window.open('https://github.com/sadmanca/uoft-pey-coop-job-postings', '_blank')">
            <i class="fa-brands fa-github"></i>
          </button>
          <button class="btn btn-primary btn-sm right-buttons" onclick="window.open('https://linkedin.com/in/sadmanca', '_blank')">
            <i class="fa-brands fa-linkedin"></i>
          </button>
        </div>
      </div>

      <div id="buttonContainer" style="padding: 4px" class="d-flex justify-content-between align-items-center flex-wrap">
        <div>
          <button class="btn pey-btn btn-sm btn-spacing" onclick="window.open('https://discover.engineering.utoronto.ca/experiential-learning/professional-experience-year-pey/', '_blank')">
            <i class="fa-solid fa-circle-question"></i> What is PEY Co-op?
          </button>
          <span style="margin: 0 2px;">|</span>
          <button id="groupByCompanyButton" class="btn btn-warning btn-sm" onclick="groupByCompany()">
            <i class="fas fa-layer-group"></i> Group by Company
          </button>
          <span style="margin: 0 2px;">|</span>
          <!-- <button class="btn btn-outline-success btn-sm" disabled onclick="exportSelectedRowsToExcel()">
            <i class="fas fa-file-excel"></i> Export Selected Rows to Excel
          </button> -->
          <button id="exportCsvButton" class="btn btn-outline-primary btn-sm" disabled onclick="exportSelectedRowsToCSV()">
            <i class="fas fa-file-csv"></i> Download Selected CSV
          </button>
          <button id="exportExcelButton" class="btn btn-outline-success btn-sm" disabled onclick="exportSelectedRowsToExcel()">
            <i class="fas fa-file-excel"></i> Download Selected Excel
          </button>
          <span style="margin: 0 2px;">|</span>
          <button class="btn btn-primary btn-sm" onclick="exportAllRowsToCSV()">
            <i class="fas fa-file-csv"></i> Download All CSV
          </button>
          <button class="btn btn-success btn-sm" onclick="exportAllRowsToExcel()">
            <i class="fas fa-file-excel"></i> Download All Excel
          </button>
          <!-- <button id="hideExpiredJobsButton" class="btn btn-sm" style="background-color: #520000; border-color: #520000; color: #fff;">
            <i class="fas fa-xmark"></i> Hide Expired Jobs
          </button> -->
          <!-- <button id="showExpiringJobsButton" class="btn btn-sm" style="background-color: #525200; border-color: #525200; color: #fff;">
            <i class="fas fa-clock"></i> Jobs Expiring Soon
          </button> -->
          <span style="margin: 0 2px;">|</span>
          <button id="toggleThemeButton" class="btn btn-outline-dark btn-sm" onclick="toggleTheme()">
            <i class="fas fa-moon"></i> Dark Mode
          </button>
        </div>
      </div>
    </div>
    <div id="myGrid" style="width: 100%; height: 100%"></div>
  </body>
</html>

<script>
  document.addEventListener('DOMContentLoaded', function() {
      const gridDiv = document.getElementById('myGrid');
      const buttonContainer = document.getElementById('buttonContainer');
      const toggleButton = document.getElementById('toggleThemeButton');
      const dataButton = document.getElementById('dataButton');
      const githubButton = document.getElementById('githubButton');
      const workStudyTitle = document.getElementById('workStudyTitle');
      const savedTheme = localStorage.getItem('theme');
      const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const override = false;

      // Listen for messages from the parent document
      window.addEventListener('message', function(event) {
        if (event.data && typeof event.data.isDarkMode !== 'undefined') {
          prefersDarkScheme = event.data.isDarkMode;
          override = true;
          // You can now use isDarkMode in your script
        }
      });

      if (savedTheme) {
          applyTheme(savedTheme);
      } else if (prefersDarkScheme) {
          applyTheme('dark');
      } else {
          applyTheme('light');
      }

      toggleButton.addEventListener('click', toggleTheme);

      function applyTheme(theme) {
          if (theme === 'dark') {
              gridDiv.classList.remove('ag-theme-quartz');
              gridDiv.classList.add('ag-theme-quartz-dark');
              buttonContainer.style.backgroundColor = '#1c232e';
              document.body.style.backgroundColor = '#1c232e';
              toggleButton.classList.remove('btn-outline-dark');
              toggleButton.classList.add('btn-outline-light');
              githubButton.classList.remove('btn-dark');
              githubButton.classList.add('btn-light');
              dataButton.classList.remove('btn-dark');
              dataButton.classList.add('btn-light');
              workStudyTitle.style.color = '#ffffff';
              toggleButton.innerHTML = '<i class="fas fa-circle"></i> Light Mode';
          } else {
              gridDiv.classList.remove('ag-theme-quartz-dark');
              gridDiv.classList.add('ag-theme-quartz');
              buttonContainer.style.backgroundColor = '#fff';
              document.body.style.backgroundColor = '#fff';
              toggleButton.classList.remove('btn-outline-light');
              toggleButton.classList.add('btn-outline-dark');
              githubButton.classList.remove('btn-light');
              githubButton.classList.add('btn-dark');
              dataButton.classList.remove('btn-light');
              dataButton.classList.add('btn-dark');
              workStudyTitle.style.color = '#000000';
              toggleButton.innerHTML = '<i class="fas fa-moon"></i> Dark Mode';
          }
          localStorage.setItem('theme', theme);
      }

      function toggleTheme() {
          const currentTheme = gridDiv.classList.contains('ag-theme-quartz') ? 'light' : 'dark';
          const newTheme = currentTheme === 'light' ? 'dark' : 'light';
          applyTheme(newTheme);
          gridApi.redrawRows();
      }
  });
</script>

<script>
    function getCurrentTheme() {
    const gridDiv = document.querySelector('#myGrid');
    return gridDiv.classList.contains('ag-theme-quartz') ? 'light' : 'dark';
  }

  function scrollableCellRenderer(params) {
    // Check if params.value exists and replace newline characters with HTML line breaks
    const formattedValue = params.value ? params.value.replace(/\n/g, '<br><br>') : '';
    return `<div class="scrollable-cell" data-simplebar data-simplebar-auto-hide="false">${formattedValue}</div>`;
  }

  function CompanyWebsiteRenderer(params) {
    // Ensure params.value is defined and is a string
    if (typeof params.value !== 'string') return '';

    // Extract the first URL from the text
    const urlMatch = params.value.match(/https?:\/\/[^ \n]+/);
    if (!urlMatch) return params.value; // Return original text if no URL found

    let firstUrl = urlMatch[0];
    // Replace any "/)" with "/"
    firstUrl = firstUrl.replace('/)', '/');

    const link = `<a href="${firstUrl}" target="_blank">${new URL(firstUrl).hostname}</a>`;
    return link;
  }

  function CompanyWebsiteExtractor(urlString) {
    if (!urlString) return '';

    const urlMatch = urlString.match(/https?:\/\/[^ \n]+/);
    if (!urlMatch) return urlString; // Return original text if no URL found

    let firstUrl = urlMatch[0];
    // Replace any "/)" with "/"
    firstUrl = firstUrl.replace('/)', '/');
    return firstUrl;
  }

  function updateExportButtonsState() {
    const noRowsSelected = gridApi && gridApi.getSelectedRows().length === 0;
    document.getElementById('exportCsvButton').disabled = noRowsSelected;
    document.getElementById('exportExcelButton').disabled = noRowsSelected;
  }

  function MultiLineTextCellEditor() {}

  MultiLineTextCellEditor.prototype.init = function(params) {
    this.params = params;
    this.eGui = document.createElement('textarea');
    this.eGui.style.width = '100%';
    this.eGui.style.height = '100%';
    this.eGui.value = params.value;
  };

  MultiLineTextCellEditor.prototype.getGui = function() {
    return this.eGui;
  };

  MultiLineTextCellEditor.prototype.afterGuiAttached = function() {
    this.eGui.focus();
    this.eGui.select();
  };

  MultiLineTextCellEditor.prototype.getValue = function() {
    return this.eGui.value;
  };

  MultiLineTextCellEditor.prototype.destroy = function() {};

  const companyUrls = {
    "AMD (Advanced Micro Devices, Inc.)": "https://www.amd.com",
    "Nvidia": "https://www.nvidia.com",
    "ACS Powersports": "https://www.acspowersports.ca",
    "AES Engineering": "https://www.aesengr.com",
    "Acciona Infrastructure Canada Inc.": "https://www.acciona.ca",
    "Air Canada": "https://www.aircanada.com",
    "Alberici Constructors": "https://www.alberici.com",
    "AlphaWave SEMI": "https://www.awavesemi.com",
    "AltaLink LP": "https://www.altalink.ca",
    "Altera, An Intel Company": "https://www.intel.com",
    "Analog Devices Inc.": "https://www.analog.com",
    "Arcadis IBI Group": "https://www.ibigroup.com",
    "Arla Foods Inc.": "https://www.arlafoods.ca",
    "Aviva Canada Inc": "https://www.aviva.ca",
    "BA Consulting Group Ltd.": "https://www.bagroup.com",
    "Bank of America Merrill Lynch": "https://www.ml.com",
    "Baylis Medical Technologies": "https://www.baylismedtech.com",
    "Bibliocommons Inc.": "https://www.bibliocommons.com",
    "Birch Hill Equity Partners": "https://www.birchhillequity.com",
    "Brigham & Women's Hospital, Harvard Medical School": "https://www.brighamandwomens.org",
    "Briza": "https://www.briza.com",
    "Cadence Design Systems Inc": "https://www.cadence.com",
    "Cadillac Fairview": "https://www.cadillacfairview.com",
    "Canadensys Aerospace": "https://www.canadensys.com",
    "Canadian Natural Resources Limited": "https://www.cnrl.com",
    "Castleton Commodities International": "https://www.cci.com/",
    "Cenovus Energy, Inc.": "https://www.cenovus.com/",
    "CentML Inc": "https://www.centml.ai/",
    "Cerebras Systems": "https://www.cerebras.ai/",
    "Change Connect Inc.": "https://www.changeconnect.ca/",
    "DHL Supply Chain": "https://www.dhl.com",
    "Defence R&D Canada (DRDC) - Ottawa": "https://www.canada.ca",
    "E11 Bio": "https://www.e11.bio/",
    "Ecobee": "https://www.ecobee.com",
    "Edgewood Health Network Inc": "https://www.edgewoodhealthnetwork.com/",
    "Elevate Construction Management": "https://www.elevatecm.com/",
    "Enerlife Consulting Inc.": "https://www.enerlife.com/",
    "Environment and Climate Change Canada": "https://www.canada.ca",
    "Epson": "https://www.epson.ca",
    "Evertz Microsystems Ltd": "https://www.evertz.com",
    "Geomechanica Inc.": "https://www.geomechanica.com/",
    "Geotab": "https://www.geotab.com/",
    "Groq Inc.": "https://www.groq.com/",
    "HDR Corporation": "https://www.hdrinc.com",
    "HF Sinclair": "https://www.hfsinclair.com",
    "HOOPP Healthcare of Ontario Pension Plan": "https://www.hoopp.com/",
    "HTS Engineering": "https://www.hts.com/",
    "Harmonic Fund Services": "https://www.harmonicfundservices.com/",
    "Honda Canada Inc.": "https://www.honda.ca",
    "Huawei Technologies Canada Co. Ltd.": "https://www.huawei.com",
    "Husky Injection Molding Systems Ltd.": "https://www.husky.co/",
    "Hydro One Limited": "https://www.hydroone.com/",
    "Intact Financial Corporation": "https://www.intact.ca/",
    "Invictus Analytics and Strategy Inc.": "https://www.invictusas.com/",
    "JMA Consulting": "https://www.jmaconsulting.biz",
    "Kijiji": "https://www.kijiji.ca",
    "Kinaxis": "https://www.kinaxis.com",
    "Kinectrics Inc.": "https://www.kinectrics.com/",
    "Kortex Enterprises LLC": "https://www.kortex.co/",
    "Labworks International Inc.": "https://www.labworksinternational.com/",
    "Ledcor": "https://www.ledcor.com",
    "Left Turn Right Turn (LTRT)": "https://www.ltrt.ca",
    "MHI RJ Aviation Group": "https://www.mhirj.com/",
    "Marvell Technology Group (US)": "https://www.marvell.com",
    "Massachusetts Institute of Technology (MIT)": "https://www.mit.edu",
    "Mattamy Homes Limited": "https://www.mattamyhomes.com/",
    "MedMe Health": "https://www.medmehealth.com/",
    "Memme Infrastructure Contractors": "https://www.memme.com/",
    "Metrolinx": "https://www.metrolinx.com",
    "Microchip Technology Inc.": "https://www.microchip.com/",
    "Monday Girl": "https://www.joinmondaygirl.com/",
    "GGY a Moodys Analytics Company": "https://www.moodys.com/",
    "Movellus": "https://www.movellus.com/",
    "Nest Wealth Solutions Inc.": "https://www.nestwealth.com/",
    "New School Foods Inc.": "https://www.newschoolfoods.co/",
    "OMERS": "https://www.omers.com/",
    "Ontario Ministry of Transportation": "https://www.ontario.ca",
    "Ontario Teachers Pension Plan": "https://www.otpp.com",
    "Pason Systems Corp.": "https://www.pason.com/",
    "Periscope Capital Inc": "https://www.periscopecap.com/",
    "Picovoice": "https://www.picovoice.ai/",
    "PolicyMe": "https://www.policyme.com",
    "Pomerleau, Inc": "https://www.pomerleau.ca",
    "Posterity Group": "https://www.posteritygroup.ca/",
    "Power Advisory": "https://www.poweradvisoryllc.com/",
    "Procter & Gamble Inc.": "https://www.pg.com",
    "Purpose Building Inc.": "https://www.purposebuilding.ca/",
    "Quanta Technology": "https://www.quanta-technology.com/",
    "Quantim Intelligence": "https://www.qic.ai/",
    "Read Jones Christoffersen (RJC Engineers)": "https://www.rjc.ca/",
    "Regional Municipality of York": "york.ca",
    "RocMar Engineering Inc.": "https://rocmar.ca/",
    "Royal Bank of Canada (RBC)": "https://www.rbcroyalbank.com/",
    "Royal Canadian Mounted Police": "https://www.rcmp-grc.gc.ca/",
    "SAFRAN Landing Systems (Messier-Dowty Inc.)": "https://www.safran-group.com",
    "Safety Power Inc": "https://www.safetypower.ca/",
    "Scotiabank": "https://www.scotiabank.com",
    "Select Equity Group, L.P.": "https://www.selectequity.com/",
    "Semtech": "https://www.semtech.com/",
    "Smith + Andersen": "https://smithandandersen.com/",
    "Snowflake, Inc.": "https://www.snowflake.com",
    "StoneX Group Inc.": "https://www.stonex.com/en/",
    "Structura Biotechnology Inc.": "https://structura.bio/",
    "Sun Life Financial": "https://www.sunlife.ca",
    "Synopsys, Inc.": "https://www.synopsys.com/",
    "TC Energy Corp.": "https://www.tcenergy.com/",
    "TD Securities": "https://www.tdsecurities.com/",
    "Taalas Inc.": "https://taalas.com/",
    "Technical University of Munich (TUM)": "https://www.tum.de/",
    "Tenstorrent Inc": "https://tenstorrent.com/",
    "Tesla": "https://www.tesla.com/",
    "Tetra Trust": "https://tetratrust.com/",
    "The Independent Electricity System Operator (IESO)": "https://www.ieso.ca/",
    "The Mosaic Company": "https://mosaicco.com/",
    "The Six Semiconductor": "https://www.thesixsemi.com/",
    "Town of Oakville": "https://www.oakville.ca/",
    "Uken Games": "https://uken.com/",
    "University Health Network": "https://www.uhn.ca/",
    "University of Toronto - Facilities & Services": "https://www.fs.utoronto.ca/",
    "Untether AI": "https://www.untether.ai/",
    "Vale Canada": "https://www.vale.com",
    "Veeva Systems": "https://www.veeva.com/",
    "Vena Solutions": "https://www.venasolutions.com/",
    "Xpan Inc.": "https://xpanmedical.com/",
    "YuJa Canada Inc.": "https://www.yuja.com/",
    "ZS Associates": "https://www.zs.com/",
    "Zynga Inc.": "https://www.zynga.com/",
    "ePIC Blockchain Technologies": "https://www.epicblockchain.io/",
    "t0.technology": "https://www.t0.technology/",

    "SLR Consulting (Canada) Ltd.": "https://www.slrconsulting.com/ca/",
    "1Password": "https://1password.com/",
    "360 Education Labs Inc.": "https://www.google.com/search?q=360+Education+Labs+Inc.",
    "AGS Automotive Systems": "https://www.agsautomotive.com/",
    "ARC Resources Ltd.": "https://www.arcresources.com/",
    "ATCO": "https://www.atco.com/",
    "ATS Corporation": "https://atsautomation.com/",
    "AYOS Designs": "https://ayos.ca/",
    "Administrative Human Resource Services Faculty of Arts & Science- University of Toronto": "https://www.artsci.utoronto.ca/about/office-dean/key-contacts#adhr",
    "Aecon Group Inc.": "https://www.aecon.com/",
    "Aercoustics Engineering Limited": "https://aercoustics.com/",
    "Agnico Eagle Mines Ltd.": "https://www.agnicoeagle.com/",
    "AirOps Consulting": "https://claribase.com/",
    "Airbus": "https://www.airbus.com/en",
    "Alectra Utilities": "https://alectrautilities.com/",
    "Alpha Square Group": "https://alphasquaregroup.com/",
    "Alta Planning + Design Canada, Inc.": "https://altago.com/",
    "Amazon": "https://aws.amazon.com/careers/",
    "Amico Patient Care Corporation": "https://www.amico.com/",
    "Amphenol Canada Corp": "https://www.amphenolcanada.com/",
    "Applanix Corporation": "https://www.applanix.com/",
    "Applied Health Research Centre (AHRC), St Michael's Hospital at Unity Health Toronto": "https://www.hubresearch.ca/",
    "Aqusense": "https://www.aqusense.com/",
    "Arctic Canadian Diamond Company Ltd.": "https://burgundydiamonds.com/",
    "Arctic Wolf Networks": "https://arcticwolf.com/",
    "Arup": "https://www.arup.com/",
    "Arxtron Technologies": "https://arxtron.com/",
    "Astera Labs": "https://www.asteralabs.com/",
    "Astro Shoring": "https://ca.linkedin.com/company/astro-shoring-inc",
    "AtkinsRéalis": "https://www.atkinsrealis.com/",
    "Atlantic Packaging Products Ltd.": "https://atlantic.ca/",
    "Auvik Networks Inc.": "https://www.auvik.com/",
    "BASF": "https://www.basf.com/ca/en",
    "BBA": "https://www.bba.ca/",
    "BCX Environmental Consulting": "https://bcxenvironmental.com/",
    "BMO Financial Group": "https://www.bmo.com/",
    "BMW Group Canada": "https://www.bmwgroup.jobs/ca/en.html",
    "BWXT Canada Ltd. (BWXT Nuclear Energy Canada Inc.)": "https://www.bwxt.com/bwxt-nec",
    "Berg Chilling Systems": "https://berg-group.com/",
    "CERIC": "https://ceric.ca/",
    "": "",
    "": "",
    "": "",
    "": "",
    "": "",
    "": "",
  };

  const companyImages = {
    "AMD (Advanced Micro Devices, Inc.)": "assets/img/data/uoft-pey-coop-job-2024/AMD_Advanced_Micro_Devices_Inc.png",
    "Nvidia": "assets/img/data/uoft-pey-coop-job-2024/Nvidia.png",
    "ACS Powersports": "assets/img/data/uoft-pey-coop-job-2024/ACS_Powersports.png",
    "AES Engineering": "assets/img/data/uoft-pey-coop-job-2024/AES_Engineering.png",
    "Acciona Infrastructure Canada Inc.": "assets/img/data/uoft-pey-coop-job-2024/Acciona_Infrastructure_Canada_Inc.png",
    "Air Canada": "assets/img/data/uoft-pey-coop-job-2024/Air_Canada.png",
    "Alberici Constructors": "assets/img/data/uoft-pey-coop-job-2024/Alberici_Constructors.png",
    "AlphaWave SEMI": "assets/img/data/uoft-pey-coop-job-2024/AlphaWave_SEMI.png",
    "AltaLink LP": "assets/img/data/uoft-pey-coop-job-2024/AltaLink_LP.png",
    "Altera, An Intel Company": "assets/img/data/uoft-pey-coop-job-2024/Altera_An_Intel_Company.png",
    "Analog Devices Inc.": "assets/img/data/uoft-pey-coop-job-2024/Analog_Devices_Inc.png",
    "Arcadis IBI Group": "assets/img/data/uoft-pey-coop-job-2024/Arcadis_IBI_Group.png",
    "Arla Foods Inc.": "assets/img/data/uoft-pey-coop-job-2024/Arla_Foods_Inc.png",
    "Aviva Canada Inc": "assets/img/data/uoft-pey-coop-job-2024/Aviva_Canada_Inc.png",
    "BA Consulting Group Ltd.": "assets/img/data/uoft-pey-coop-job-2024/BA_Consulting_Group_Ltd.png",
    "Bank of America Merrill Lynch": "assets/img/data/uoft-pey-coop-job-2024/Bank_of_America_Merrill_Lynch.png",
    "Baylis Medical Technologies": "assets/img/data/uoft-pey-coop-job-2024/Baylis_Medical_Technologies.png",
    "Bibliocommons Inc.": "assets/img/data/uoft-pey-coop-job-2024/Bibliocommons_Inc.png",
    "Birch Hill Equity Partners": "assets/img/data/uoft-pey-coop-job-2024/Birch_Hill_Equity_Partners.png",
    "Brigham & Women's Hospital, Harvard Medical School": "assets/img/data/uoft-pey-coop-job-2024/Brigham_and_Women's_Hospital_Harvard_Medical_School.png",
    "Briza": "assets/img/data/uoft-pey-coop-job-2024/Briza.png",
    "Cadence Design Systems Inc": "assets/img/data/uoft-pey-coop-job-2024/Cadence_Design_Systems_Inc.png",
    "Cadillac Fairview": "assets/img/data/uoft-pey-coop-job-2024/Cadillac_Fairview.png",
    "Canadensys Aerospace": "assets/img/data/uoft-pey-coop-job-2024/Canadensys_Aerospace.png",
    "Canadian Natural Resources Limited": "assets/img/data/uoft-pey-coop-job-2024/Canadian_Natural_Resources_Limited.png",
    "Castleton Commodities International": "assets/img/data/uoft-pey-coop-job-2024/Castleton_Commodities_International.png",
    "Cenovus Energy, Inc.": "assets/img/data/uoft-pey-coop-job-2024/Cenovus_Energy_Inc.png",
    "CentML Inc": "assets/img/data/uoft-pey-coop-job-2024/CentML_Inc.png",
    "Cerebras Systems": "assets/img/data/uoft-pey-coop-job-2024/Cerebras_Systems.png",
    "Change Connect Inc.": "assets/img/data/uoft-pey-coop-job-2024/Change_Connect_Inc.png",
    "DHL Supply Chain": "assets/img/data/uoft-pey-coop-job-2024/DHL_Supply_Chain.png",
    "Defence R&D Canada (DRDC) - Ottawa": "assets/img/data/uoft-pey-coop-job-2024/Defence_RandD_Canada_DRDC_-_Ottawa.png",
    "E11 Bio": "assets/img/data/uoft-pey-coop-job-2024/E11_Bio.png",
    "ecobee": "assets/img/data/uoft-pey-coop-job-2024/Ecobee.png",
    "Edgewood Health Network Inc": "assets/img/data/uoft-pey-coop-job-2024/Edgewood_Health_Network_Inc.png",
    "Elevate Construction Management": "assets/img/data/uoft-pey-coop-job-2024/Elevate_Construction_Management.png",
    "Enerlife Consulting Inc.": "assets/img/data/uoft-pey-coop-job-2024/Enerlife_Consulting_Inc.png",
    "Environment and Climate Change Canada": "assets/img/data/uoft-pey-coop-job-2024/Environment_and_Climate_Change_Canada.png",
    "Epson": "assets/img/data/uoft-pey-coop-job-2024/Epson.png",
    "Evertz Microsystems Ltd": "assets/img/data/uoft-pey-coop-job-2024/Evertz_Microsystems_Ltd.png",
    "Geomechanica Inc.": "assets/img/data/uoft-pey-coop-job-2024/Geomechanica_Inc.png",
    "Geotab": "assets/img/data/uoft-pey-coop-job-2024/Geotab.png",
    "Groq Inc.": "assets/img/data/uoft-pey-coop-job-2024/Groq_Inc.png",
    "HDR Corporation": "assets/img/data/uoft-pey-coop-job-2024/HDR_Corporation.png",
    "HF Sinclair": "assets/img/data/uoft-pey-coop-job-2024/HF_Sinclair.png",
    "HOOPP Healthcare of Ontario Pension Plan": "assets/img/data/uoft-pey-coop-job-2024/HOOPP_Healthcare_of_Ontario_Pension_Plan.png",
    "HTS Engineering": "assets/img/data/uoft-pey-coop-job-2024/HTS_Engineering.png",
    "Harmonic Fund Services": "assets/img/data/uoft-pey-coop-job-2024/Harmonic_Fund_Services.png",
    "Honda Canada Inc.": "assets/img/data/uoft-pey-coop-job-2024/Honda_Canada_Inc.png",
    "Huawei Technologies Canada Co. Ltd.": "assets/img/data/uoft-pey-coop-job-2024/Huawei_Technologies_Canada_Co_Ltd.png",
    "Husky Injection Molding Systems Ltd.": "assets/img/data/uoft-pey-coop-job-2024/Husky_Injection_Molding_Systems_Ltd.png",
    "Hydro One Limited": "assets/img/data/uoft-pey-coop-job-2024/Hydro_One_Limited.png",
    "Intact Financial Corporation": "assets/img/data/uoft-pey-coop-job-2024/Intact_Financial_Corporation.png",
    "Invictus Analytics and Strategy Inc.": "assets/img/data/uoft-pey-coop-job-2024/Invictus_Analytics_and_Strategy_Inc.png",
    "JMA Consulting": "assets/img/data/uoft-pey-coop-job-2024/JMA_Consulting.png",
    "Kijiji": "assets/img/data/uoft-pey-coop-job-2024/Kijiji.png",
    "Kinaxis": "assets/img/data/uoft-pey-coop-job-2024/Kinaxis.png",
    "Kinectrics Inc.": "assets/img/data/uoft-pey-coop-job-2024/Kinectrics_Inc.png",
    "Kortex Enterprises LLC": "assets/img/data/uoft-pey-coop-job-2024/Kortex_Enterprises_LLC.png",
    "Labworks International Inc.": "assets/img/data/uoft-pey-coop-job-2024/Labworks_International_Inc.png",
    "Ledcor": "assets/img/data/uoft-pey-coop-job-2024/Ledcor.png",
    "Left Turn Right Turn (LTRT)": "assets/img/data/uoft-pey-coop-job-2024/Left_Turn_Right_Turn_LTRT.png",
    "MHI RJ Aviation Group": "assets/img/data/uoft-pey-coop-job-2024/MHI_RJ_Aviation_Group.png",
    "Marvell Technology Group (US)": "assets/img/data/uoft-pey-coop-job-2024/Marvell_Technology_Group_US.png",
    "Massachusetts Institute of Technology (MIT)": "assets/img/data/uoft-pey-coop-job-2024/Massachusetts_Institute_of_Technology_MIT.png",
    "Mattamy Homes Limited": "assets/img/data/uoft-pey-coop-job-2024/Mattamy_Homes_Limited.png",
    "MedMe Health": "assets/img/data/uoft-pey-coop-job-2024/MedMe_Health.png",
    "Memme Infrastructure Contractors": "assets/img/data/uoft-pey-coop-job-2024/Memme_Infrastructure_Contractors.png",
    "Metrolinx": "assets/img/data/uoft-pey-coop-job-2024/Metrolinx.png",
    "Microchip Technology Inc.": "assets/img/data/uoft-pey-coop-job-2024/Microchip_Technology_Inc.png",
    "Monday Girl": "assets/img/data/uoft-pey-coop-job-2024/Monday_Girl.png",
    "Moody's Analytics": "assets/img/data/uoft-pey-coop-job-2024/Moody's_Analytics.png",
    "Movellus": "assets/img/data/uoft-pey-coop-job-2024/Movellus.png",
    "Nest Wealth Solutions Inc.": "assets/img/data/uoft-pey-coop-job-2024/Nest_Wealth_Solutions_Inc.png",
    "New School Foods Inc.": "assets/img/data/uoft-pey-coop-job-2024/New_School_Foods_Inc.png",
    "OMERS": "assets/img/data/uoft-pey-coop-job-2024/OMERS.png",
    "Ontario Ministry of Transportation": "assets/img/data/uoft-pey-coop-job-2024/Ontario_Ministry_of_Transportation.png",
    "Ontario Teachers Pension Plan": "assets/img/data/uoft-pey-coop-job-2024/Ontario_Teachers_Pension_Plan.png",
    "Pason Systems Corp.": "assets/img/data/uoft-pey-coop-job-2024/Pason_Systems_Corp.png",
    "Periscope Capital Inc": "assets/img/data/uoft-pey-coop-job-2024/Periscope_Capital_Inc.png",
    "Picovoice": "assets/img/data/uoft-pey-coop-job-2024/Picovoice.png",
    "PolicyMe": "assets/img/data/uoft-pey-coop-job-2024/PolicyMe.png",
    "Pomerleau, Inc": "assets/img/data/uoft-pey-coop-job-2024/Pomerleau_Inc.png",
    "Posterity Group": "assets/img/data/uoft-pey-coop-job-2024/Posterity_Group.png",
    "Power Advisory": "assets/img/data/uoft-pey-coop-job-2024/Power_Advisory.png",
    "Procter & Gamble Inc.": "assets/img/data/uoft-pey-coop-job-2024/Procter_and_Gamble_Inc.png",
    "Purpose Building Inc.": "assets/img/data/uoft-pey-coop-job-2024/Purpose_Building_Inc.png",
    "Quanta Technology": "assets/img/data/uoft-pey-coop-job-2024/Quanta_Technology.png",
    "Quantim Intelligence": "assets/img/data/uoft-pey-coop-job-2024/Quantim_Intelligence.png",
    "Read Jones Christoffersen (RJC Engineers)": "assets/img/data/uoft-pey-coop-job-2024/Read_Jones_Christoffersen_RJC_Engineers.png",
    "Regional Municipality of York": "assets/img/data/uoft-pey-coop-job-2024/Regional_Municipality_of_York.png",
    "RocMar Engineering Inc.": "assets/img/data/uoft-pey-coop-job-2024/RocMar_Engineering_Inc.png",
    "Royal Bank of Canada (RBC)": "assets/img/data/uoft-pey-coop-job-2024/Royal_Bank_of_Canada_RBC.png",
    "Royal Canadian Mounted Police": "assets/img/data/uoft-pey-coop-job-2024/Royal_Canadian_Mounted_Police.png",
    "SAFRAN Landing Systems (Messier-Dowty Inc.)": "assets/img/data/uoft-pey-coop-job-2024/SAFRAN_Landing_Systems_Messier-Dowty_Inc.png",
    "Safety Power Inc": "assets/img/data/uoft-pey-coop-job-2024/Safety_Power_Inc.png",
    "Scotiabank": "assets/img/data/uoft-pey-coop-job-2024/Scotiabank.png",
    "Select Equity Group, L.P.": "assets/img/data/uoft-pey-coop-job-2024/Select_Equity_Group_LP.png",
    "Semtech": "assets/img/data/uoft-pey-coop-job-2024/Semtech.png",
    "Smith + Andersen": "assets/img/data/uoft-pey-coop-job-2024/Smith_+_Andersen.png",
    "Snowflake, Inc.": "assets/img/data/uoft-pey-coop-job-2024/Snowflake_Inc.png",
    "StoneX Group Inc.": "assets/img/data/uoft-pey-coop-job-2024/StoneX_Group_Inc.png",
    "Structura Biotechnology Inc.": "assets/img/data/uoft-pey-coop-job-2024/Structura_Biotechnology_Inc.png",
    "Sun Life Financial": "assets/img/data/uoft-pey-coop-job-2024/Sun_Life_Financial.png",
    "Synopsys, Inc.": "assets/img/data/uoft-pey-coop-job-2024/Synopsys_Inc.png",
    "TC Energy Corp.": "assets/img/data/uoft-pey-coop-job-2024/TC_Energy_Corp.png",
    "TD Securities": "assets/img/data/uoft-pey-coop-job-2024/TD_Securities.png",
    "Taalas Inc.": "assets/img/data/uoft-pey-coop-job-2024/Taalas_Inc.png",
    "Technical University of Munich (TUM)": "assets/img/data/uoft-pey-coop-job-2024/Technical_University_of_Munich_TUM.png",
    "Tenstorrent Inc": "assets/img/data/uoft-pey-coop-job-2024/Tenstorrent_Inc.png",
    "Tesla": "assets/img/data/uoft-pey-coop-job-2024/Tesla.png",
    "Tetra Trust": "assets/img/data/uoft-pey-coop-job-2024/Tetra_Trust.png",
    "The Independent Electricity System Operator (IESO)": "assets/img/data/uoft-pey-coop-job-2024/The_Independent_Electricity_System_Operator_IESO.png",
    "The Mosaic Company": "assets/img/data/uoft-pey-coop-job-2024/The_Mosaic_Company.png",
    "The Six Semiconductor": "assets/img/data/uoft-pey-coop-job-2024/The_Six_Semiconductor.png",
    "Town of Oakville": "assets/img/data/uoft-pey-coop-job-2024/Town_of_Oakville.png",
    "Uken Games": "assets/img/data/uoft-pey-coop-job-2024/Uken_Games.png",
    "University Health Network": "assets/img/data/uoft-pey-coop-job-2024/University_Health_Network.png",
    "University of Toronto - Facilities & Services": "assets/img/data/uoft-pey-coop-job-2024/University_of_Toronto_-_Facilities_and_Services.png",
    "Untether AI": "assets/img/data/uoft-pey-coop-job-2024/Untether_AI.png",
    "Vale Canada": "assets/img/data/uoft-pey-coop-job-2024/Vale_Canada.png",
    "Veeva Systems": "assets/img/data/uoft-pey-coop-job-2024/Veeva_Systems.png",
    "Vena Solutions": "assets/img/data/uoft-pey-coop-job-2024/Vena_Solutions.png",
    "Xpan Inc.": "assets/img/data/uoft-pey-coop-job-2024/Xpan_Inc.png",
    "YuJa Canada Inc.": "assets/img/data/uoft-pey-coop-job-2024/YuJa_Canada_Inc.png",
    "ZS Associates": "assets/img/data/uoft-pey-coop-job-2024/ZS_Associates.png",
    "Zynga Inc.": "assets/img/data/uoft-pey-coop-job-2024/Zynga_Inc.png",
    "ePIC Blockchain Technologies": "assets/img/data/uoft-pey-coop-job-2024/ePIC_Blockchain_Technologies.png",
    "t0.technology": "assets/img/data/uoft-pey-coop-job-2024/t0technology.png",
    "SLR Consulting (Canada) Ltd.": "assets/img/data/uoft-pey-coop-job-2024/SLR_Consulting_Canada_Ltd.jpg",
    "1Password": "assets/img/data/uoft-pey-coop-job-2024/1password.png",
    "360 Education Labs Inc.": "assets/img/data/uoft-pey-coop-job-2024/360.jpg",
    "AGS Automotive Systems": "assets/img/data/uoft-pey-coop-job-2024/agsautomotive.png",
    "ARC Resources Ltd.": "assets/img/data/uoft-pey-coop-job-2024/arcresources.png",
    "ATCO": "assets/img/data/uoft-pey-coop-job-2024/atco.png",
    "ATS Corporation": "assets/img/data/uoft-pey-coop-job-2024/atsautomation.png",
    "AYOS Designs": "assets/img/data/uoft-pey-coop-job-2024/ayos.png",
    "Administrative Human Resource Services Faculty of Arts & Science- University of Toronto": "assets/img/data/uoft-pey-coop-job-2024/University_of_Toronto_-_Facilities_and_Services.png",
    "Aecon Group Inc.": "assets/img/data/uoft-pey-coop-job-2024/aecon.png",
    "Aercoustics Engineering Limited": "assets/img/data/uoft-pey-coop-job-2024/aercoustics.png",
    "Agnico Eagle Mines Ltd.": "assets/img/data/uoft-pey-coop-job-2024/agnicoeagle.png",
    "AirOps Consulting": "assets/img/data/uoft-pey-coop-job-2024/claribase.png",
    "Airbus": "assets/img/data/uoft-pey-coop-job-2024/airbus.png",
    "Alectra Utilities": "assets/img/data/uoft-pey-coop-job-2024/AlectraUtilities.png",
    "Alpha Square Group": "assets/img/data/uoft-pey-coop-job-2024/alphasquaregroup.png",
    "Alta Planning + Design Canada, Inc.": "assets/img/data/uoft-pey-coop-job-2024/altago.png",
    "Amazon": "assets/img/data/uoft-pey-coop-job-2024/amazon.png",
    "Amico Patient Care Corporation": "assets/img/data/uoft-pey-coop-job-2024/amico.png",
    "Amphenol Canada Corp": "assets/img/data/uoft-pey-coop-job-2024/amphenolcanada.png",
    "Applanix Corporation": "assets/img/data/uoft-pey-coop-job-2024/applanix.png",
    "Applied Health Research Centre (AHRC), St Michael's Hospital at Unity Health Toronto": "assets/img/data/uoft-pey-coop-job-2024/unityhealth.png",
    "Aqusense": "assets/img/data/uoft-pey-coop-job-2024/aqusense.png",
    "Arctic Canadian Diamond Company Ltd.": "assets/img/data/uoft-pey-coop-job-2024/burgundydiamonds.png",
    "Arctic Wolf Networks": "assets/img/data/uoft-pey-coop-job-2024/arcticwolf.png",
    "Arup": "assets/img/data/uoft-pey-coop-job-2024/arup.png",
    "Arxtron Technologies": "assets/img/data/uoft-pey-coop-job-2024/arxtron.png",
    "Astera Labs": "assets/img/data/uoft-pey-coop-job-2024/asteralabs.png",
    "Astro Shoring": "assets/img/data/uoft-pey-coop-job-2024/astroshoring.png",
    "AtkinsRéalis": "assets/img/data/uoft-pey-coop-job-2024/atkinsrealis.png",
    "Atlantic Packaging Products Ltd.": "assets/img/data/uoft-pey-coop-job-2024/atlantic.png",
    "Auvik Networks Inc.": "assets/img/data/uoft-pey-coop-job-2024/auvik.png",
    "BASF": "assets/img/data/uoft-pey-coop-job-2024/basf.png",
    "BBA": "assets/img/data/uoft-pey-coop-job-2024/BBA.png",
    "BCX Environmental Consulting": "assets/img/data/uoft-pey-coop-job-2024/bcxenvironmental.png",
    "BMO Financial Group": "assets/img/data/uoft-pey-coop-job-2024/bmo.png",
    "BMW Group Canada": "assets/img/data/uoft-pey-coop-job-2024/bmw.png",
    "BWXT Canada Ltd. (BWXT Nuclear Energy Canada Inc.)": "assets/img/data/uoft-pey-coop-job-2024/bwxt.png",
    "Balliscor": "assets/img/data/uoft-pey-coop-job-2024/balliscor.png",
    "Bank of Montreal (BMO)": "assets/img/data/uoft-pey-coop-job-2024/bmo.png",
    "Bantrel Co.": "assets/img/data/uoft-pey-coop-job-2024/bantrel.png",
    "Bayer Healthcare": "assets/img/data/uoft-pey-coop-job-2024/bayer.png",
    "Berg Chilling Systems": "assets/img/data/uoft-pey-coop-job-2024/berg-group.png",
    "Bird Construction": "assets/img/data/uoft-pey-coop-job-2024/bird.png",
    "Black & McDonald": "assets/img/data/uoft-pey-coop-job-2024/blackandmcdonald.png",
    "Bloom AI": "assets/img/data/uoft-pey-coop-job-2024/bloomai.png",
    "BlueCat Networks": "assets/img/data/uoft-pey-coop-job-2024/bluecatnetworks.png",
    "BlueRock Theraputics": "assets/img/data/uoft-pey-coop-job-2024/bluerocktx.png",
    "Boeing": "assets/img/data/uoft-pey-coop-job-2024/boeing.png",
    "Bombardier Aerospace": "assets/img/data/uoft-pey-coop-job-2024/bombardier.png",
    "BorderPass": "assets/img/data/uoft-pey-coop-job-2024/borderpass.png",
    "Boston Scientific": "assets/img/data/uoft-pey-coop-job-2024/bostonscientific.png",
    "British Columbia Investment Management Corp": "assets/img/data/uoft-pey-coop-job-2024/bci.png",
    "Bronte Construction": "assets/img/data/uoft-pey-coop-job-2024/bronteconstruction.png",
    "Brown & Beattie Ltd.": "assets/img/data/uoft-pey-coop-job-2024/brownbeattie.png",
    "Burloak Technologies": "assets/img/data/uoft-pey-coop-job-2024/burloak.png",
    "C. F. Crozier & Associates": "assets/img/data/uoft-pey-coop-job-2024/cfcrozier.png",
    "CAMH": "assets/img/data/uoft-pey-coop-job-2024/camh.png",
    "CBC/Radio-Canada": "assets/img/data/uoft-pey-coop-job-2024/cbc.png",
    "CERIC": "assets/img/data/uoft-pey-coop-job-2024/ceric.png",
    "CERT Systems Inc.": "assets/img/data/uoft-pey-coop-job-2024/co2cert.png",
    "CES Transformers": "assets/img/data/uoft-pey-coop-job-2024/ces.png",
    "CGI Group Inc.": "assets/img/data/uoft-pey-coop-job-2024/cgi.png",
    "CIBC": "assets/img/data/uoft-pey-coop-job-2024/cibc.png",
    "CIMCO Refrigeration": "assets/img/data/uoft-pey-coop-job-2024/cimcorefrigeration.png",
    "CMHA Simcoe County Branch": "assets/img/data/uoft-pey-coop-job-2024/cmhastarttalking.png",
    "CNOOC International": "assets/img/data/uoft-pey-coop-job-2024/cnoocinternational.png",
    "CPP Investment Board": "assets/img/data/uoft-pey-coop-job-2024/cppinvestments.png",
    "CRB Group": "assets/img/data/uoft-pey-coop-job-2024/crbgroup.png",
    "CSA Group": "assets/img/data/uoft-pey-coop-job-2024/csagroup.png",
    "": "",
    "": "",
    "": "",
    "": "",
    "": "",
    "": "",
    "": "",
  };

  const gridOptions = {
    columnDefs: [
      {
        headerCheckboxSelection: true, // Enable checkbox on the header
        checkboxSelection: true, // Enable row checkboxes
        field: "postingDate",
        width: 160,
        rowGroup: false,
        hide: false,
        pinned: 'left',
        filter: "agDateColumnFilter",
        filterParams: {
          comparator: filterDateComparator
        },
        sortable: true,
        sort: 'asc',
        comparator: dateComparator,
        cellEditor: MultiLineTextCellEditor,
        tooltipValueGetter: function(params) {
          return `Date when job was posted on the PEY portal`;
        },
      },
      {
        field: "title",
        width: 120,
        pinned: 'left',
      },
      {
        field: "company",
        hide: false,
        width: 117,
        pinned: 'left',
        cellRenderer: function(params) {
            const company = params.value;
            companyUrl = CompanyWebsiteExtractor(params.data.companyWebsite);
            if (!companyUrl) {
                companyUrl = companyUrls[company];
            }
            if (!companyUrl) {
                return company;
            }
            var imageUrl = companyImages[company];
            if (company == "Cerebras Systems") {
              imageUrl = "https://cerebras.ai/wp-content/uploads/2022/05/Cerebras-logo-standard.jpg";
            } else if (company == "Kortex Enterprises LLC") {
              imageUrl = "https://assets-v2.circle.so/ph8d48idvikb2hzy6sec54as8phk";
            } else if (company == "Safety Power Inc") {
              imageUrl = "https://www.safetypower.ca/static/img/logo.jpg";
            } else if (company == "StoneX Group Inc.") {
              imageUrl = "https://www.stonex.com/en/-/media/project/gain-capital/stonex/stonex-main/logos/stonex-logo-black.svg?iar=0&extension=webp&hash=CB5E65DCC6F52A6D4CC15E709B73C6C3";
            } else if (company == "Royal Canadian Mounted Police") {
              imageUrl = "https://logo.clearbit.com/canada.ca";
            }
            if (imageUrl) {
                return `<div class="company-cell">
                            <a href="${companyUrl}" target="_blank">${company}</a>
                            <img src="${imageUrl}" alt="${company}">
                        </div>`;
            }
            if (companyUrl) {
              return `<div class="company-cell">
                            <a href="${companyUrl}" target="_blank">${company}</a>
                        </div>`;      
            }            
            return company;
        }
      },
      {
        field: "companyWebsite",
        hide: true,
        cellRenderer: CompanyWebsiteRenderer,
        width: 117,
      },
      {
        field: "location",
        width: 113,
      },
      {
        field: "locationType",
        width: 113,
        cellRenderer: scrollableCellRenderer,
      },
      {
        field: "numPositions",
        headerName: "Num. Positions",
        width: 112,
        filterParams: {
          filters: [
            { filter: "agNumberColumnFilter" },
            { filter: "agSetColumnFilter" },
          ],
        },
        // Use a value formatter to check the value before displaying
        valueFormatter: function(params) {
          // Check if the value is a valid number
          const isValidNumber = !isNaN(params.value) && isFinite(params.value);
          // Return the value if it's a valid number, otherwise return an empty string
          return isValidNumber ? params.value : '';
        },
      },
      {
        field: "description",
        width: 350,
        wrapText: true,
        // cellClass: 'cell-wrap-text',
        // autoHeight: true,
        cellRenderer: scrollableCellRenderer,
        filter: 'agTextColumnFilter',
      },
      {
        field: "requirements",
        width: 350,
        wrapText: true,
        // cellClass: 'cell-wrap-text',
        // autoHeight: true,
        cellRenderer: scrollableCellRenderer,
        filter: 'agTextColumnFilter',
      },
      {
        field: "preferredDisciplines",
        width: 140,
        // wrapText: false,
        cellRenderer: scrollableCellRenderer,
        filter: 'agTextColumnFilter',
      },
      {
        field: "salary",
        width: 100,
      },
        {
    field: "startDate",
    headerName: "Start Date",
    width: 120,
    filter: 'agDateColumnFilter',
    filterParams: {
        comparator: function(filterLocalDateAtMidnight, cellValue) {
            const dateParts = cellValue.split('/');
            const cellDate = new Date(`${dateParts[2]}-${dateParts[0]}-${dateParts[1]}`);
            if (cellDate < filterLocalDateAtMidnight) {
                return -1;
            } else if (cellDate > filterLocalDateAtMidnight) {
                return 1;
            } else {
                return 0;
            }
        }
    },
    cellRenderer: function(params) {
        const date = params.value;
        if (!date) {
            return ''; // Return an empty string if the date is blank
        }
        const dateParts = date.split('/');
        const formattedDate = `${dateParts[2]}-${dateParts[0].padStart(2, '0')}-${dateParts[1].padStart(2, '0')}`;
        return formattedDate;
    }
},
{
    field: "endDate",
    headerName: "End Date",
    width: 120,
    filter: 'agDateColumnFilter',
    filterParams: {
        comparator: function(filterLocalDateAtMidnight, cellValue) {
            const dateParts = cellValue.split('/');
            const cellDate = new Date(`${dateParts[2]}-${dateParts[0]}-${dateParts[1]}`);
            if (cellDate < filterLocalDateAtMidnight) {
                return -1;
            } else if (cellDate > filterLocalDateAtMidnight) {
                return 1;
            } else {
                return 0;
            }
        }
    },
    cellRenderer: function(params) {
        const date = params.value;
        if (!date) {
            return ''; // Return an empty string if the date is blank
        }
        const dateParts = date.split('/');
        const formattedDate = `${dateParts[2]}-${dateParts[0].padStart(2, '0')}-${dateParts[1].padStart(2, '0')}`;
        return formattedDate;
    }
},
      {
        field: "companyDivision",
        width: 120,
      },
      {
        field: "function",
        width: 120,
      },
    {
      field: "applicationDeadline",
      width: 130,
      filter: 'agDateColumnFilter',
      filterParams: {
          comparator: appDeadlineFilterDateComparator
        },
      sortable: true,
      comparator: appDeadlineSortDateComparator
    },
    // Uncomment and include additional fields as needed
    // {
    //   field: "applicationMethod",
    // },
    {
      field: "applicationReceiptProcedure",
      headerName: "Application Procedure",
      width: 130,
      cellRenderer: scrollableCellRenderer,
      filter: 'agTextColumnFilter',
    },
    {
      field: "applicationDetails",
      width: 130,
      cellRenderer: scrollableCellRenderer,
      filter: 'agTextColumnFilter',
      hide: true,
    },
    {
      field: "id",
      headerName: "Job ID",
      width: 100,
      hide: true,
      filterParams: {
        filters: [
          { filter: "agNumberColumnFilter" },
          { filter: "agSetColumnFilter" },
        ],
      },
    }
    ],

    defaultColDef: {
      enableRowGroup: true,
      wrapHeaderText: true, // Allow header text to wrap
      autoHeaderHeight: true, // Automatically adjust header height
      resizable: true,
      sortable: true,
      initialWidth: 170,
      editable: true,
      filter: true,
      wrapText: true,
      cellEditor: MultiLineTextCellEditor,
      wrapHeaderText: true,
      autoHeaderHeight: true,
      floatingFilter: true,
      filter: "agMultiColumnFilter",
      filterParams: {
        filters: [
          { filter: "agTextColumnFilter", },
          { filter: "agSetColumnFilter", },
        ],
      },
      },

    groupUseEntireRow: true,


    // rowHeight: 250,
    getRowHeight: function(params) {
      // Check if the row is a group row
      if (params.node.group) {
        // Return the desired height for group rows
        return 30; // Example: Set group row height to 100px
      }
      // Return a different height for non-group rows or default height
      return 250; // Example: Set non-group row height to 25px
    },

    rowSelection: 'multiple',
    onSelectionChanged: updateExportButtonsState,
    rowMultiSelectWithClick: true, // Allow multiple rows to be selected with clicks

    groupDefaultExpanded: -1,
    groupDisplayType: 'groupRows',
    rowGroupPanelShow: 'always',

    tooltipShowDelay: 500,
    tooltipHideDelay: 1200,
    tooltipMouseTrack: true,

    statusBar: {
      statusPanels: [
       {
          statusPanel: "agTotalAndFilteredRowCountComponent",
          align: "left",
        },
       {
          statusPanel: "agSelectedRowCountComponent",
          align: "left",
        },
      ],
    },
    enableRangeSelection: true,
    // Function to determine if a row should be selectable
    isRowSelectable: function(rowNode) {
      // Return false if the row is a group row, making it not selectable
      return !rowNode.group;
    },

    pivotMode: false,
    sideBar: {
      toolPanels: [
        {
          id: "columns",
          labelDefault: "Columns",
          labelKey: "columns",
          iconKey: "columns",
          toolPanel: "agColumnsToolPanel",
          width: 250,
          toolPanelParams: {
            suppressValues: true, // This will hide the aggregation options
            suppressPivotMode: true, // This will hide the pivot mode options
          },
        },
        {
          id: "filters",
          labelDefault: "Filters",
          labelKey: "filters",
          iconKey: "filter",
          toolPanel: "agFiltersToolPanel",
          width: 200,
        },
      ],
      defaultToolPanel: "columns",
    },

    pagination: false,
    // paginationPageSize: 1,
    // paginationPageSizeSelector: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],

    isExternalFilterPresent: isExternalFilterPresent,
    doesExternalFilterPass: doesExternalFilterPass,

  };

  function generateReadableTimestamp() {
    const date = new Date();
    const year = date.getFullYear();
    const month = String(date.getMonth() + 1).padStart(2, '0');
    const day = String(date.getDate()).padStart(2, '0');
    const hours = String(date.getHours()).padStart(2, '0');
    const minutes = String(date.getMinutes()).padStart(2, '0');
    const seconds = String(date.getSeconds()).padStart(2, '0');
    return `${year}_${month}_${day}-${hours}_${minutes}_${seconds}`;
  }

  // Function to generate the filename with a readable timestamp
  function generateFilename(baseName, extension) {
    const timestamp = generateReadableTimestamp();
    return `${baseName}-${timestamp}.${extension}`;
  }

  function exportSelectedRowsToCSV() {
    if (gridApi) {
      const filename = generateFilename('uoft-pey-coop-jobs-2023-2024-SELECTED', 'csv');
      gridApi.exportDataAsCsv({
        onlySelected: true,
        fileName: filename
      });
    } else {
      console.error('Grid API is not available.');
    }
  }

  function exportSelectedRowsToExcel() {
    if (gridApi) {
      const filename = generateFilename('uoft-pey-coop-jobs-2024-2025-SELECTED', 'xlsx');
      gridApi.exportDataAsExcel({
        onlySelected: true,
        fileName: filename
      });
    } else {
      console.error('Grid API is not available.');
    }
  }

  function exportAllRowsToCSV() {
    const filename = generateFilename('uoft-pey-coop-jobs-2024-2025', 'csv');
    if (gridApi) {
      gridApi.exportDataAsCsv({
        onlySelected: false,
        fileName: filename
      });
    } else {
      console.error('Grid API is not available.');
    }
  }

  function exportAllRowsToExcel() {
    const filename = generateFilename('uoft-pey-coop-jobs-2024-2025', 'xlsx');
    if (gridApi) {
      gridApi.exportDataAsExcel({
        onlySelected: false,
        fileName: filename
      });
    } else {
      console.error('Grid API is not available.');
    }
  }

  // Function to check window width and toggle side panel
  function checkWindowWidth() {
    if (window.innerWidth < 1600) {
      gridApi.closeToolPanel();
    } else {
      gridApi.openToolPanel('columns');
    }

    if (window.innerWidth < 1000) {
      // Unpin all columns using gridApi
      const allColumns = gridApi.getColumnDefs();
      allColumns.forEach(col => {
        gridApi.setColumnPinned(col.field, null);
      });
    }
  }

  // Function to compare dates for sorting
  function appDeadlineSortDateComparator(date1, date2) {
    // Check if date1 or date2 is undefined or empty
    if (!date1 || !date2) {
      return 0;
    }

    // Parse the date1 to a Date object
    const dateParts1 = date1.split(/\s+/);
    const month1 = dateParts1[0];
    const day1 = parseInt(dateParts1[1].replace(',', ''));
    const year1 = parseInt(dateParts1[2]);
    const parsedDate1 = new Date(`${month1} ${day1}, ${year1}`);

    // Parse the date2 to a Date object
    const dateParts2 = date2.split(/\s+/);
    const month2 = dateParts2[0];
    const day2 = parseInt(dateParts2[1].replace(',', ''));
    const year2 = parseInt(dateParts2[2]);
    const parsedDate2 = new Date(`${month2} ${day2}, ${year2}`);

    // Compare the dates
    if (parsedDate1 < parsedDate2) {
      return -1;
    } else if (parsedDate1 > parsedDate2) {
      return 1;
    } else {
      return 0;
    }
  }

  // Function to compare dates for filtering
  function appDeadlineFilterDateComparator(filterLocalDateAtMidnight, cellValue) {
    // Parse the cell value to a Date object
    const dateParts = cellValue.split(/\s+/);
    const month = dateParts[0];
    const day = parseInt(dateParts[1].replace(',', ''));
    const year = parseInt(dateParts[2]);
    const date = new Date(`${month} ${day}, ${year}`);

    // Compare the dates
    if (date < filterLocalDateAtMidnight) {
      return -1;
    } else if (date > filterLocalDateAtMidnight) {
      return 1;
    } else {
      return 0;
    }
  }

  function dateComparator(date1, date2) {
    if (!date1 || !date2) {
      return 0;
    }
    const parsedDate1 = new Date(date1);
    const parsedDate2 = new Date(date2);
    return parsedDate1 - parsedDate2;
  }

  function filterDateComparator(filterLocalDateAtMidnight, cellValue) {
    const date = new Date(cellValue);
    if (date < filterLocalDateAtMidnight) {
      return -1;
    } else if (date > filterLocalDateAtMidnight) {
      return 1;
    } else {
      return 0;
    }
  }

  // External filter to hide rows with blank postingDate
  function isExternalFilterPresent() {
    return true; // External filter is always active
  }

  function doesExternalFilterPass(node) {
    return node.data.postingDate; // Pass only if postingDate is not blank
  }

  function groupByCompany() {
    const currentGroupColumns = gridApi.getRowGroupColumns().map(col => col.getColId());
    const isGroupedByCompany = currentGroupColumns.includes('company');

    function getSortModel() {
        const sortState = gridApi.getAllColumns().map(col => ({
            colId: col.getColId(),
            sort: col.getSort()
        })).filter(col => col.sort != null);
        return sortState.length > 0 ? sortState : [];
    }

    function setSortModel(sortModel) {
        gridApi.applyColumnState({
            state: sortModel,
            applyOrder: true
        });
    }

    if (isGroupedByCompany) {
        // Clear grouping and revert sort
        gridApi.setRowGroupColumns([]);
        setSortModel([{ colId: 'company', sort: 'asc' }]);
        gridApi.setColumnVisible('company', true); // Ensure the column is visible after ungrouping
    } else {
        // Group by Company, show the Company column, and sort by Company in ascending order
        gridApi.setRowGroupColumns(['company']);
        gridApi.setColumnVisible('company', true); // Ensure the column is visible
        setSortModel([{ colId: 'company', sort: 'asc' }]);
    }

    gridApi.refreshClientSideRowModel('group');
}


  document.addEventListener("DOMContentLoaded", function () {
    var gridDiv = document.querySelector("#myGrid");
    gridApi = agGrid.createGrid(gridDiv, gridOptions);

    fetch("/data/PEYJobPosting.json")
      .then((response) => response.json())
      .then((data) => gridApi.setGridOption("rowData", data));

    checkWindowWidth();
    window.addEventListener('resize', checkWindowWidth);
  });

</script>

<!--
for mapping pages to dates:

// Example mapping of page numbers to dates
const pageNumberToDateMap = {
  1: '2023-01-01',
  2: '2023-01-02',
  // Add more mappings as needed
};
const lastDate = '2023-01-31'; // Example last date

const gridOptions = {
  // Other grid options...
  pagination: true,
  paginationPageSize: 1,
  paginationNumberFormatter: function(params) {
    const currentPageDate = pageNumberToDateMap[params.value] || 'Unknown Date';
    return `${currentPageDate} out of ${lastDate}`;
  },
  // Other options like columnDefs, rowData, etc.
};

<div class="ag-tooltip ag-tooltip-animate ag-ltr ag-popup-child ag-tooltip-hiding" role="dialog" aria-label="Tooltip" style="top: 279px; left: 1230px;">Full Stack Engineer, Business Systems at ecobee</div>
-->